<div class="container">
    <h2>Student Management</h2>
    <div class="header-container">
        <div class="button-group">
            <button mat-raised-button color="accent" (click)="openCreateStatusDialog()">Create Status +</button>
            <button mat-raised-button color="warn" (click)="openCreateRoleDialog()">Create Role +</button>
            <button mat-raised-button color="primary" (click)="createUser()">Create Student +</button>
        </div>
        <mat-form-field appearance="outline" class="search-box">
            <mat-label>Search Student</mat-label>
            <input matInput [(ngModel)]="searchTerm" (keyup)="applyFilter()" placeholder="Enter user name">
        </mat-form-field>
    </div>
    
    <table mat-table [dataSource]="filteredUsers">
      <ng-container matColumnDef="userID">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let user"> {{user.userID}} </td>
      </ng-container>
  
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> First Name </th>
        <td mat-cell *matCellDef="let user"> {{user.firstName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> Last Name </th>
        <td mat-cell *matCellDef="let user"> {{user.lastName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let user"> {{user.email}} </td>
      </ng-container>
  
      <ng-container matColumnDef="dateOfBirth">
        <th mat-header-cell *matHeaderCellDef> Date of Birth </th>
        <td mat-cell *matCellDef="let user"> {{user.dateOfBirth | date: 'shortDate'}} </td>
      </ng-container>
  
      <ng-container matColumnDef="roleName">
        <th mat-header-cell *matHeaderCellDef> Role </th>
        <td mat-cell *matCellDef="let user"> {{user.role?.roleName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="statusName">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let user"> {{user.status?.statusName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let user">
            <button mat-button class="edit-button" (click)="openEditUserDialog(user.userID)">Edit</button>
            <button mat-button color="warn" (click)="deleteUser(user.userID)">Delete</button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  